{"ast":null,"code":"'use strict';\n\nconst EventEmitter = require('events');\n\nclass Task extends EventEmitter {\n  constructor(execution) {\n    super();\n\n    if (typeof execution !== 'function') {\n      throw 'execution must be a function';\n    }\n\n    this._execution = execution;\n  }\n\n  execute(now) {\n    let exec;\n\n    try {\n      exec = this._execution(now);\n    } catch (error) {\n      return this.emit('task-failed', error);\n    }\n\n    if (exec instanceof Promise) {\n      return exec.then(() => this.emit('task-finished')).catch(error => this.emit('task-failed', error));\n    } else {\n      this.emit('task-finished');\n      return exec;\n    }\n  }\n\n}\n\nmodule.exports = Task;","map":{"version":3,"names":["EventEmitter","require","Task","constructor","execution","_execution","execute","now","exec","error","emit","Promise","then","catch","module","exports"],"sources":["/Users/williambaquero/Documents/Go/Front/front/node_modules/node-cron/src/task.js"],"sourcesContent":["'use strict';\n\nconst EventEmitter = require('events');\n\nclass Task extends EventEmitter{\n    constructor(execution){\n        super();\n        if(typeof execution !== 'function') {\n            throw 'execution must be a function';\n        }\n        this._execution = execution;\n    }\n\n    execute(now) {\n        let exec;\n        try {\n            exec = this._execution(now);\n        } catch (error) {\n            return this.emit('task-failed', error);\n        }\n        \n        if (exec instanceof Promise) {\n            return exec\n                .then(() => this.emit('task-finished'))\n                .catch((error) => this.emit('task-failed', error));\n        } else {\n            this.emit('task-finished');\n            return exec;\n        }\n    }\n}\n\nmodule.exports = Task;\n\n"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAAC,QAAD,CAA5B;;AAEA,MAAMC,IAAN,SAAmBF,YAAnB,CAA+B;EAC3BG,WAAW,CAACC,SAAD,EAAW;IAClB;;IACA,IAAG,OAAOA,SAAP,KAAqB,UAAxB,EAAoC;MAChC,MAAM,8BAAN;IACH;;IACD,KAAKC,UAAL,GAAkBD,SAAlB;EACH;;EAEDE,OAAO,CAACC,GAAD,EAAM;IACT,IAAIC,IAAJ;;IACA,IAAI;MACAA,IAAI,GAAG,KAAKH,UAAL,CAAgBE,GAAhB,CAAP;IACH,CAFD,CAEE,OAAOE,KAAP,EAAc;MACZ,OAAO,KAAKC,IAAL,CAAU,aAAV,EAAyBD,KAAzB,CAAP;IACH;;IAED,IAAID,IAAI,YAAYG,OAApB,EAA6B;MACzB,OAAOH,IAAI,CACNI,IADE,CACG,MAAM,KAAKF,IAAL,CAAU,eAAV,CADT,EAEFG,KAFE,CAEKJ,KAAD,IAAW,KAAKC,IAAL,CAAU,aAAV,EAAyBD,KAAzB,CAFf,CAAP;IAGH,CAJD,MAIO;MACH,KAAKC,IAAL,CAAU,eAAV;MACA,OAAOF,IAAP;IACH;EACJ;;AAzB0B;;AA4B/BM,MAAM,CAACC,OAAP,GAAiBb,IAAjB"},"metadata":{},"sourceType":"script"}