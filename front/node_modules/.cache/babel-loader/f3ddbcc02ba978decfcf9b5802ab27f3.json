{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createStaticVNode as _createStaticVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-469af010\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"container\",\n  id: \"app\"\n};\nconst _hoisted_2 = {\n  class: \"subContainer\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createStaticVNode(\"<h1 data-v-469af010>Compartir Archivo</h1><div class=\\\"form-group\\\" data-v-469af010><label for=\\\"exampleFormControlFile1\\\" data-v-469af010>Seleccionar un archivo:</label><br data-v-469af010><input type=\\\"file\\\" class=\\\"form-control-file\\\" id=\\\"exampleFormControlFile1\\\" name=\\\"myFile\\\" data-v-469af010><div class=\\\"channels input-group\\\" data-v-469af010><div class=\\\"input-group-prepend mx-2\\\" data-v-469af010><label class=\\\"input-group-text\\\" for=\\\"inputGroupSelect01\\\" data-v-469af010>Canal: </label></div><select class=\\\"form-select\\\" aria-label=\\\"Default select example\\\" name=\\\"channel\\\" id=\\\"selectChannel\\\" data-v-469af010><option value=\\\"channel1\\\" selected data-v-469af010>Channel 1</option><option value=\\\"channel2\\\" data-v-469af010>Channel 2</option><option value=\\\"channel3\\\" data-v-469af010>Channel 3</option></select></div><input type=\\\"submit\\\" value=\\\"Compartir Archivo\\\" class=\\\"btnUpload\\\" data-v-469af010></div>\", 2);\n\nconst _hoisted_5 = [_hoisted_3];\n\nconst _hoisted_6 = /*#__PURE__*/_createStaticVNode(\"<h1 data-v-469af010>Subscribir a Canal</h1><div class=\\\"form-group\\\" data-v-469af010><div class=\\\"input-group\\\" data-v-469af010><div class=\\\"input-group-prepend\\\" data-v-469af010><span class=\\\"input-group-text\\\" id=\\\"\\\" data-v-469af010>First and last name</span></div><input type=\\\"text\\\" class=\\\"form-control\\\" data-v-469af010><input type=\\\"text\\\" class=\\\"form-control\\\" data-v-469af010></div><input type=\\\"submit\\\" value=\\\"Subscribirse\\\" class=\\\"btnUpload\\\" data-v-469af010></div>\", 2);\n\nconst _hoisted_8 = [_hoisted_6];\nconst _hoisted_9 = {\n  class: \"subContainer\"\n};\nconst _hoisted_10 = {\n  class: \"card cardFiles\"\n};\nconst _hoisted_11 = {\n  class: \"card-body\"\n};\nconst _hoisted_12 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"h1\", null, _toDisplayString($options.checkCookie(\"userId\") ? \"Bienvenido, Ya puedes compartir archivos\" : \"Usuario no registrado\"), 1\n  /* TEXT */\n  ), _createElementVNode(\"h1\", null, \"Hola, \" + _toDisplayString($options.getCookie(\"userId\")), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"form\", {\n    enctype: \"multipart/form-data\",\n    onSubmit: _cache[0] || (_cache[0] = _withModifiers($event => $options.prueba($event), [\"prevent\"])),\n    name: \"formSend\",\n    id: \"formSend\"\n  }, _hoisted_5, 32\n  /* HYDRATE_EVENTS */\n  ), _createCommentVNode(\"Subscription\"), _createElementVNode(\"form\", {\n    enctype: \"multipart/form-data\",\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers($event => $options.subscribir($event), [\"prevent\"])),\n    name: \"formSubs\",\n    id: \"formSubs\"\n  }, _hoisted_8, 32\n  /* HYDRATE_EVENTS */\n  )]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [(_openBlock(), _createElementBlock(\"ul\", {\n    class: \"list-group list-group-flush\",\n    key: $data.actualizar\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.files, item => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: item.id\n    }, [_createElementVNode(\"a\", {\n      href: 'http://localhost:8080/file/' + item.fileName\n    }, _toDisplayString(item.fileName), 9\n    /* TEXT, PROPS */\n    , _hoisted_12), _createElementVNode(\"div\", null, _toDisplayString(item.canal), 1\n    /* TEXT */\n    )]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))]))])])])]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.prueba && $options.prueba(...args))\n  }, \"Get posts\")], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;;EASOA,KAAK,EAAC;EAAYC,EAAE,EAAC;;;EACnBD,KAAK,EAAC;;;;;oBAOPE;;;;oBAgCAC;;EAaCH,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;;6DA/DjBI,oBAMK,IANL,EAMK,IANL,EAMKC,iBAJDC,qBAAW,QAAX,wEAIC,CANL;;EAAA,GAOAF,oBAAwC,IAAxC,EAAwC,IAAxC,EAAI,WAAMC,iBAAGC,mBAAS,QAAT,CAAH,CAAV,EAAsB;EAAA;EAAtB,GACAF,oBAmEM,KAnEN,cAmEM,CAlEJA,oBAmDM,KAnDN,cAmDM,CAlDJA,oBAmCO,MAnCP,EAmCO;IAlCLG,OAAO,EAAC,qBAkCH;IAjCJC,QAAM,qDAAUF,gBAAOG,MAAP,CAAV,EAAuB,WAAvB,EAiCF;IAhCLC,IAAI,EAAC,UAgCA;IA/BLT,EAAE,EAAC;EA+BE,CAnCP;;EAAA,CAkDI,EAdJU,mCAcI,EAbJP,oBAYO,MAZP,EAYO;IAZDG,OAAO,EAAC,qBAYP;IAZ8BC,QAAM,qDAAUF,oBAAWG,MAAX,CAAV,EAA2B,WAA3B,EAYpC;IAZkEC,IAAI,EAAC,UAYvE;IAZkFT,EAAE,EAAC;EAYrF,CAZP;;EAAA,CAaI,CAnDN,CAkEI,EAdJG,oBAaM,KAbN,cAaM,CAZJA,oBAWM,KAXN,eAWM,CAVJA,oBASM,KATN,eASM,gBARJQ,oBAOK,IAPL,EAOK;IAPDZ,KAAK,EAAC,6BAOL;IAPoCa,GAAG,EAAEC;EAOzC,CAPL,sBACEF,oBAKKG,SALL,EAKK,IALL,EAKKC,YALcF,WAKd,EALMG,IAAa,IAAT;yBAAfL,oBAKK,IALL,EAKK;MALsBC,GAAG,EAAEI,IAAI,CAAChB;IAKhC,CALL,GACEG,oBAEI,GAFJ,EAEI;MAFAc,IAAI,kCAAgCD,IAAI,CAACE;IAEzC,CAFJ,mBACKF,IAAI,CAACE,SADV,EACkB;IAAA;IADlB,EACkBC,WADlB,GAGAhB,oBAA2B,KAA3B,EAA2B,IAA3B,EAA2BC,iBAAnBY,IAAI,CAACI,KAAc,CAA3B,EAAkB;IAAA;IAAlB,EAJF;GAKK,CALL;;EAAA,GADF,CAQI,EATN,CAUI,CAXN,CAYI,CAbN,CAcI,CAnEN,GAoEAjB,oBAA0C,QAA1C,EAA0C;IAAjCkB,OAAK,yCAAEhB,2CAAF;EAA4B,CAA1C,EAAwB,WAAxB","names":["class","id","_hoisted_3","_hoisted_6","_createElementVNode","_toDisplayString","$options","enctype","onSubmit","$event","name","_createCommentVNode","_createElementBlock","key","$data","_Fragment","_renderList","item","href","fileName","_hoisted_12","canal","onClick"],"sourceRoot":"","sources":["/Users/williambaquero/Documents/Go/Front/front/src/components/HelloWorld.vue"],"sourcesContent":["<template>\n  <h1>\n    {{\n      checkCookie(\"userId\")\n        ? \"Bienvenido, Ya puedes compartir archivos\"\n        : \"Usuario no registrado\"\n    }}\n  </h1>\n  <h1>Hola, {{ getCookie(\"userId\") }}</h1>\n  <div class=\"container\" id=\"app\">\n    <div class=\"subContainer\">\n      <form\n        enctype=\"multipart/form-data\"\n        @submit.prevent=\"prueba($event)\"\n        name=\"formSend\"\n        id=\"formSend\"\n      >\n        <h1>Compartir Archivo</h1>\n        <div class=\"form-group\">\n          <label for=\"exampleFormControlFile1\">Seleccionar un archivo:</label>\n          <br />\n          <input\n            type=\"file\"\n            class=\"form-control-file\"\n            id=\"exampleFormControlFile1\"\n            name=\"myFile\"\n          />\n          <div class=\"channels input-group\">\n            <div class=\"input-group-prepend mx-2\">\n              <label class=\"input-group-text\" for=\"inputGroupSelect01\"\n                >Canal:\n              </label>\n            </div>\n            <select\n              class=\"form-select\"\n              aria-label=\"Default select example\"\n              name=\"channel\"\n              id=\"selectChannel\"\n            >\n              <option value=\"channel1\" selected>Channel 1</option>\n              <option value=\"channel2\">Channel 2</option>\n              <option value=\"channel3\">Channel 3</option>\n            </select>\n          </div>\n          <input type=\"submit\" value=\"Compartir Archivo\" class=\"btnUpload\" />\n        </div>\n      </form>\n      <!--Subscription-->\n      <form enctype=\"multipart/form-data\" @submit.prevent=\"subscribir($event)\" name=\"formSubs\" id=\"formSubs\">\n        <h1>Subscribir a Canal</h1>\n        <div class=\"form-group\">\n          <div class=\"input-group\">\n  <div class=\"input-group-prepend\">\n    <span class=\"input-group-text\" id=\"\">First and last name</span>\n  </div>\n  <input type=\"text\" class=\"form-control\">\n  <input type=\"text\" class=\"form-control\">\n</div>\n          <input type=\"submit\" value=\"Subscribirse\" class=\"btnUpload\" />\n        </div>\n      </form>\n    </div>\n    <div class=\"subContainer\">\n      <div class=\"card cardFiles\">\n        <div class=\"card-body\">\n          <ul class=\"list-group list-group-flush\" :key=\"actualizar\">\n            <li v-for=\"item in files\" :key=\"item.id\">\n              <a :href=\"'http://localhost:8080/file/'+item.fileName\">\n                {{ item.fileName}}\n              </a>\n              <div>{{ item.canal }}</div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n  <button @click=\"prueba\">Get posts</button>\n</template>\n\n<script>\nimport { uuid } from \"vue-uuid\"; // Import uuid\nimport { crono } from \"vue-crono\";\nimport axios from \"axios\";\n\n//const form = document.querySelector(\"form\");\n\nexport default {\n  mixins: [crono],\n  name: \"HelloWorld\",\n  data() {\n    return {\n      posts: null,\n      files: [],\n      subs:[],\n      actualizar: 0,\n    };\n  },\n  props: {\n    msg: String,\n  },\n  methods: {\n    async subscribir(){\n      const formData1 = new FormData(document.getElementById(\"formSubs\"));\n      formData1.append(\"idUser\", this.getCookie(\"userId\"));\n      formData1.append(\"prueba\",\"123\")\n      const headers = { \"Content-Type\": \"multipart/form-data\" };\n      this.posts = await axios\n        .post(\"http://localhost:8080/subscription\", formData1, { headers })\n        .then((response) => {\n          console.log(response)\n        })\n        .catch((error) => {\n          this.errorMessage = error.message;\n          console.error(\"There was an error!\", error);\n        });\n    },\n    async prueba() {\n      const formData = new FormData(document.getElementById(\"formSend\"));\n      formData.append(\"idUser\", this.getCookie(\"userId\"));\n      const headers = { \"Content-Type\": \"multipart/form-data\" };\n      this.posts = await axios\n        .post(\"http://localhost:8080/upload\", {id:this.getCookie(\"userId\")}, { headers })\n        .then((response) => {\n          var e = document.getElementById(\"selectChannel\");\n          var value = e.value;\n\n          var objectFile = {\n            canal: value,\n            fileName: response.data\n          }\n          this.files.push(objectFile);\n          this.actualizar += 1;\n          console.log(this.files)\n        })\n        .catch((error) => {\n          this.errorMessage = error.message;\n          console.error(\"There was an error!\", error);\n        });\n    },\n    setCookie(cname, cvalue, exdays) {\n      const d = new Date();\n      d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n      let expires = \"expires=\" + d.toUTCString();\n      document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n    },\n    getCookie(cname) {\n      let name = cname + \"=\";\n      let decodedCookie = decodeURIComponent(document.cookie);\n      let ca = decodedCookie.split(\";\");\n      for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == \" \") {\n          c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n          return c.substring(name.length, c.length);\n        }\n      }\n      return \"\";\n    },\n\n    checkCookie(cname) {\n      let user = this.getCookie(cname);\n      if (user != \"\") {\n        return true;\n      } else {\n        //return false;\n        this.setCookie(\"userId\", uuid.v1(), 30);\n        return true;\n      }\n    },\n    checkFiles() {\n      console.log(\"Sirve\");\n    },\n  },\n  cron: {\n    time: 10000,\n    method: \"checkFiles\",\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n.container {\n  display: flex;\n  flex-wrap: wrap;\n}\n.subContainer {\n  flex: 1 1 200px;\n  padding: 16px;\n}\n.cardFiles {\n  height: 100%;\n  background-color: ghostwhite;\n  padding: 16px;\n  border-radius: 15px;\n  border: solid 1px;\n  box-sizing: border-box;\n}\n.channels {\n  display: flex;\n  margin: 8px;\n  justify-content: center;\n  font-weight: bold;\n}\n.btnUpload {\n  margin: auto;\n  padding: 8px;\n  width: 90%;\n  background: #42b983;\n  color: white;\n  border-radius: 15px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}